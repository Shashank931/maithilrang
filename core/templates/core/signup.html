{% extends "core/base.html" %}
{% load static %}

{% block title %}signup - Maithilरंग{% endblock %}

{% block main %}

<body class="bg-gray-100 font-sans">
  <div class="min-h-screen flex items-center justify-center px-4">
    <div class="flex flex-col md:flex-row w-full md:max-w-5xl bg-white shadow-lg rounded-lg overflow-hidden">

      <!-- Left Logo/Image Section -->
      <div class="w-full md:w-1/2 flex items-center justify-center bg-white p-6">
        <a href="{% url 'home' %}">
          <img src="{% static 'core/images/maithilrang.png' %}" alt="MaithilRang Logo" class="w-full h-full object-cover">
        </a>
      </div>

      <!-- Right Form Section -->
      <div class="w-full md:w-1/2 px-6 py-10 md:px-12">
        <div class="max-w-md mx-auto">
          <h2 class="text-3xl font-bold text-green-800 text-center mb-4">MAITHIL <span class="text-pink-600">रंग</span></h2>
          <p class="text-lg text-gray-600 text-center mb-6">Create your account</p>

          <!-- Social Buttons -->
          <div class="flex justify-center space-x-4 mb-6">
            <button class="flex items-center px-4 py-2 border rounded text-sm text-gray-700 hover:bg-gray-100">
              <img src="https://cdn-icons-png.flaticon.com/512/281/281764.png" class="h-4 w-4 mr-2" /> Sign up with Google
            </button>
            <button class="flex items-center px-4 py-2 border rounded text-sm text-gray-700 hover:bg-gray-100">
              <img src="https://cdn-icons-png.flaticon.com/512/5968/5968534.png" class="h-4 w-4 mr-2" /> Sign up with Email
            </button>
          </div>

          <!-- OR Divider -->
          <div class="flex items-center justify-center space-x-2 mb-6">
            <hr class="w-1/3 border-gray-300">
            <span class="text-sm text-gray-500">OR</span>
            <hr class="w-1/3 border-gray-300">
          </div>


           <!-- Form -->
            {% if messages %}
                  <div class="mb-4">
                    {% for message in messages %}
                      <div class="text-center text-sm p-2 rounded
                        {% if message.tags == 'success' %}
                          bg-green-100 text-green-800
                        {% elif message.tags == 'error' %}
                          bg-red-100 text-red-800
                        {% endif %}">
                        {{ message }}
                      </div>
                    {% endfor %}
                  </div>
                {% endif %}
              <form action="{% url 'signup' %}" method="POST" class="space-y-4">
                {% csrf_token %}

                <!-- First + Last Name -->
                <div class="flex space-x-2">
                  <div class="w-1/2">
                    <input type="text" name="first_name" value="{{ form.first_name.value|default_if_none:'' }}" placeholder="First Name" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.first_name.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                  </div>
                  <div class="w-1/2">
                    <input type="text" name="last_name" value="{{ form.last_name.value|default_if_none:'' }}" placeholder="Last Name" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.last_name.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                  </div>
                </div>

                <!-- Email + Phone -->
                <div class="flex space-x-2">
                  <div class="w-1/2">
                    <input type="email" name="email" value="{{ form.email.value|default_if_none:'' }}" placeholder="Email Address" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.email.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                  </div>
                  <div class="w-1/2">
                    <input type="tel" name="phone_number" value="{{ form.phone_number.value|default_if_none:'' }}" placeholder="Phone Number" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.phone_number.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                  </div>
                </div>

                <!-- Password + Confirm -->
                <div class="flex space-x-2">
                  <div class="w-1/2">
                    <input type="password" name="password" placeholder="Password" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.password.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                    
                  </div>
                  <div class="w-1/2">
                    <input type="password" name="confirm_password" placeholder="Confirm Password" class="w-full px-4 py-2 border rounded text-sm">
                    {% for error in form.confirm_password.errors %}
                      <p class="text-red-600 text-xs mt-1">{{ error }}</p>
                    {% endfor %}
                  </div>
                </div>

                <!-- Non-field Errors (e.g., Passwords do not match) -->
                {% if form.non_field_errors %}
                  <div class="text-red-600 text-sm mb-2 text-center">
                    {% for error in form.non_field_errors %}
                      <p>{{ error }}</p>
                    {% endfor %}
                  </div>
                {% endif %}

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-black text-white py-2 rounded shadow hover:bg-gray-800 transition duration-200">
                  Create Account
                </button>
              </form>

          <p class="text-center text-sm text-gray-600 mt-4">
            Already have an account?
            <a href="{% url 'login' %}" class="text-blue-600 hover:underline">Login</a>
          </p>

          <p class="text-center text-xs text-gray-400 mt-6">© MaithilRang - All Rights Reserved</p>
        </div>
      </div>
    </div>
  </div>
  

</body>

<script>
  document.querySelectorAll('input[type="password"]').forEach(input => {
    const toggle = document.createElement('span');
    toggle.textContent = '👁️';
    toggle.classList.add('cursor-pointer', 'ml-2');
    toggle.addEventListener('click', () => {
      input.type = input.type === 'password' ? 'text' : 'password';
    });
    input.parentElement.appendChild(toggle);
  });
</script>

{% endblock main %}


