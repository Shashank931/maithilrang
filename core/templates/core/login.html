{% extends "core/base.html" %}
{% load static %}

{% block title %}Login - Maithilरंग{% endblock %}

{% block main %}
<div class="bg-gray-100 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">

  {% with request.GET.command as command %}
  {% if command == "verification" %}
     <p class="text-success">"Thank you for registering with us .we have sent you a verification email on your register email [{{request.GET.email}}]</p>
  


  {% else %}
  
  
  <div class="bg-white shadow-xl rounded-xl overflow-hidden flex flex-col lg:flex-row w-full max-w-5xl">

    <!-- Left Side Image -->
    <div class="lg:w-1/2 w-full">
      <a href="{% url 'home' %}">
        <img src="{% static 'core/images/maithilrang.png' %}" alt="MaithilRang Fashion" class="w-full h-full object-cover">
      </a>
    </div>

    <!-- Right Side Form -->
    <div class="lg:w-1/2 w-full p-8 sm:p-12 flex flex-col justify-center">
      
      <!-- Logo Title -->
      <h2 class="text-3xl font-bold text-center text-green-800 mb-6">
        MAITHIL <span class="text-pink-600">रंग</span>
      </h2>

      <!-- Social Login Buttons -->
      <div class="flex flex-col sm:flex-row justify-center gap-4 mb-6">
        <button class="flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-sm">
          <img src="https://img.icons8.com/color/16/000000/google-logo.png" />
          Log in with Google
        </button>
        <button class="flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-sm">
          <img src="https://img.icons8.com/ios-filled/16/000000/email.png" />
          Log in with Email
        </button>
      </div>

      <!-- Divider -->
      <div class="flex items-center my-4">
        <div class="flex-grow h-px bg-gray-300"></div>
        <span class="px-3 text-gray-500 text-sm">OR</span>
        <div class="flex-grow h-px bg-gray-300"></div>
      </div>

      <!-- Login Form -->
       {% if messages %}
                  <div class="mb-4">
                    {% for message in messages %}
                      <div class="text-center text-sm p-2 rounded
                        {% if message.tags == 'success' %}
                          bg-green-100 text-green-800
                        {% elif message.tags == 'error' %}
                          bg-red-100 text-red-800
                        {% endif %}">
                        {{ message }}
                      </div>
                    {% endfor %}
                  </div>
                {% endif %}
      <form action="{% url "login" %}" method="POST" class="space-y-4">
        {% csrf_token %}
        <input type="email" name="email" placeholder="Email" required class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black bg-gray-50">
        <input type="password" name="password" placeholder="Password" required class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black bg-gray-50">
        <button type="submit" class="w-full bg-black text-white py-2 rounded hover:bg-gray-900 transition">
          Log In
        </button>
      </form>

      <!-- Links -->
      <div class="text-center mt-4 text-sm">
        <a href="{% url "forgot_password" %}" class="text-blue-500 hover:underline">Forgot Password?</a>
      </div>
      <div class="text-center mt-2 text-sm">
        Don't have an account? <a href="{% url 'signup' %}" class="text-blue-500 hover:underline">Register Now</a>
      </div>

      <!-- Footer Note -->
      <p class="text-xs text-gray-400 text-center mt-6">© 2025 MaithilRang - All Rights Reserved</p>
    </div>
  </div>
  {% endif %}
  {% endwith %}
</div>
{% endblock %}
